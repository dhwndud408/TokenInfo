{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OhJuYoung\\\\Desktop\\\\EthereumApp\\\\token-web\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Web3 from 'web3';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ConnectMetaMask = async () => {\n      if (window.ethereum) {\n        console.log(' MetaMask 연결 최신 방법 ');\n        this.web3 = new Web3(window.ethereum);\n\n        try {\n          await window.ethereum.enable();\n        } catch (error) {\n          console.log(`User denied account access error : ${error}`);\n        }\n      } else if (window.web3) {\n        console.log(' MetaMask 연결 이전 방법 ');\n        this.web3 = new Web3(Web3.currentProvider);\n      } else {\n        console.log('ERORR! MetaMask not installed');\n      }\n    };\n\n    this.SetSmartContract = async contract_address => {\n      const _token_address = contract_address;\n      const _token_abi = [{\n        \"inputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"spender\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"value\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"previousOwner\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"OwnershipTransferred\",\n        \"type\": \"event\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"value\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n      }, {\n        \"payable\": true,\n        \"stateMutability\": \"payable\",\n        \"type\": \"fallback\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"target\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"GetCurrentAbleLockedTokens\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"target\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"GetCurrentLockedTokens\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"target\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"GetInitLockedTokens\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"temp_num_init_locked\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"_calCapableLockedToken\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"address\",\n          \"name\": \"recipient\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"_transfer\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"target\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"num_token\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"addLockedToken\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"address\",\n          \"name\": \"spender\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"allowance\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"spender\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"value\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"approve\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"account\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"balanceOf\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"decimals\",\n        \"outputs\": [{\n          \"internalType\": \"uint8\",\n          \"name\": \"\",\n          \"type\": \"uint8\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"pure\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"spender\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"subtractedValue\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"decreaseAllowance\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"spender\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"addedValue\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"increaseAllowance\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"isOwner\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"owner\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [],\n        \"name\": \"renounceOwnership\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"_release_timestamp\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"setReleaseDate\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"_ratio_per_day\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"setReleaseRatioPerDay\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"_ratio\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"setTokenPerEthRatio\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"totalSupply\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"recipient\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"transfer\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"address\",\n          \"name\": \"recipient\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"amount\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"transferFrom\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"constant\": false,\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"transferOwnership\",\n        \"outputs\": [],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }];\n\n      const _token_contract = new this.web3.eth.Contract(_token_abi, _token_address);\n\n      const _token_name = await _token_contract.methods.name().call();\n\n      const _token_symbol = await _token_contract.methods.symbol().call();\n\n      const _token_decimal = await _token_contract.methods.decimals().call();\n\n      this.setState({\n        token_address: _token_address,\n        token_abi: _token_abi,\n        token_name: _token_name,\n        token_symbol: _token_symbol,\n        token_decimal: Number(_token_decimal),\n        token_contract: _token_contract\n      });\n    };\n\n    this.SetAccount = async account_address => {\n      const _account_balance = await this.state.token_contract.methods.balanceOf(account_address).call(); //const _account_balance2 = _account_balance / Math.pow(10, this.state.token_decimal);\n\n\n      const _current_token = await this.state.token_contract.methods.GetCurrentLockedTokens(account_address).call(); //const _current_token2 = _current_token / Math.pow(10, this.state.token_decimal);\n\n\n      const _release_token = await this.state.token_contract.methods.GetCurrentAbleLockedTokens(account_address).call(); //const _release_token2 = _release_token / Math.pow(10, this.state.token_decimal);\n\n\n      this.setState({\n        account_acctress: account_address,\n        account_total_token: _account_balance / Math.pow(10, this.state.token_decimal),\n        account_current_lock_token: _current_token / Math.pow(10, this.state.token_decimal),\n        account_current_release_lock_token: _release_token / Math.pow(10, this.state.token_decimal)\n      });\n    };\n\n    this.SetSmartContractAddressFromTextInput = async event => {\n      event.preventDefault();\n      await this.SetSmartContract(event.target.value);\n      await this.SetAccount(this.state.account_acctress);\n    };\n\n    this.SetAccountAddressFromTextInput = async event => {\n      event.preventDefault();\n      await this.SetAccount(event.target.value);\n    };\n\n    this.state = {\n      token_address: \"\",\n      token_abi: [],\n      token_name: \"\",\n      token_symbol: \"\",\n      token_decimal: 1,\n      token_contract: null,\n      account_acctress: \"\",\n      account_total_token: 0,\n      account_current_lock_token: 0,\n      account_current_release_lock_token: 0\n    };\n  }\n\n  async componentDidMount() {\n    // *** 비동기로 MetaMask(Web3) 연결 *** //\n    await this.ConnectMetaMask(); // *** 비동기로 Token (Smart Contract) 연결 *** //\n\n    await this.SetSmartContract(\"0x04b6AadcB3d241EE1CCc2D43bA76d289Ed1d4289\"); // *** 비동기로 Account 연결 *** //\n\n    let accounts = await this.web3.eth.getAccounts();\n    await this.SetAccount(accounts[0]); // Token (Smart Contract)의 함수 호출\n    // 값만 가져올 때  : let results = await \"계약명\".methods.\"함수명\"(\"함수인자\").call();\n    // payalbe 함수   :  let results = await \"계약명\".methods.\"함수명\"(\"함수인자\").send({from:\"송금 주소\", value:\"송금 금액(wei)\", gas:\"gas 량\", nonce:\"재접속한 횟수\"});\n    //                  (참고 : let nonce = await this.web3.eth.getTransactionCount(\"target addresss\"); )\n    // Event 가져올 때 : let event = await \"계약명\".getPastEvents(\"이벤트명\", {fromBlock:0, toBlock:'latest'});\n    // ************** 값 확인 ************** //\n\n    console.log('Target Token (Smart Contract) Address : ' + this.state.token_address);\n    console.log('Target Token (Smart Contract) Name : ' + this.state.token_name);\n    console.log('Target Token (Smart Contract) Symbol  : ' + this.state.token_symbol);\n    console.log('Target Token (Smart Contract) Decimal  : ' + this.state.token_decimal);\n    console.log('Target Contract Details : ');\n    console.log(this.state.token_contract);\n    console.log('현재 Account : ' + this.state.account_acctress);\n    console.log('Target Token Balance : ' + this.state.account_total_token);\n    console.log(this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, \"Edit \", /*#__PURE__*/React.createElement(\"code\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 20\n      }\n    }, \" src/App.js\"), \" and save to reload.\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"App-link\",\n      href: \"https://react.org\",\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"Token Address : \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"in_contract_addr\",\n      onChange: this.SetSmartContractAddressFromTextInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 34\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, \"Token Address :  \", this.state.token_address), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, \"Token Name :  \", this.state.token_name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, \"Account Address : \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"in_account_addr\",\n      onChange: this.SetAccountAddressFromTextInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 36\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, \"Account Address :  \", this.state.account_acctress), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, \"Balance :  \", this.state.account_total_token, \" \", this.state.token_symbol), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, \"Locked Token :  \", this.state.account_current_lock_token, \" \", this.state.token_symbol), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, \"Released Token :  \", this.state.account_current_release_lock_token, \" \", this.state.token_symbol))));\n  }\n\n} // index address challenge answer pot status answerBlockNumber\n\n\nexport default App;","map":{"version":3,"sources":["C:/Users/OhJuYoung/Desktop/EthereumApp/token-web/src/App.js"],"names":["React","Component","Web3","App","constructor","props","ConnectMetaMask","window","ethereum","console","log","web3","enable","error","currentProvider","SetSmartContract","contract_address","_token_address","_token_abi","_token_contract","eth","Contract","_token_name","methods","name","call","_token_symbol","symbol","_token_decimal","decimals","setState","token_address","token_abi","token_name","token_symbol","token_decimal","Number","token_contract","SetAccount","account_address","_account_balance","state","balanceOf","_current_token","GetCurrentLockedTokens","_release_token","GetCurrentAbleLockedTokens","account_acctress","account_total_token","Math","pow","account_current_lock_token","account_current_release_lock_token","SetSmartContractAddressFromTextInput","event","preventDefault","target","value","SetAccountAddressFromTextInput","componentDidMount","accounts","getAccounts","render","logo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport Web3 from 'web3';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state={\n      token_address: \"\",\n      token_abi: [],\n      token_name: \"\",\n      token_symbol: \"\",\n      token_decimal: 1,\n      token_contract: null,\n      account_acctress: \"\",\n      account_total_token: 0,\n      account_current_lock_token:0,\n      account_current_release_lock_token:0\n    }\n\n  }\n\n  async componentDidMount() {\n    // *** 비동기로 MetaMask(Web3) 연결 *** //\n    await this.ConnectMetaMask();\n\n    // *** 비동기로 Token (Smart Contract) 연결 *** //\n    await this.SetSmartContract(\"0x04b6AadcB3d241EE1CCc2D43bA76d289Ed1d4289\");\n\n    // *** 비동기로 Account 연결 *** //\n    let accounts = await this.web3.eth.getAccounts();\n    await this.SetAccount(accounts[0]);\n\n    // Token (Smart Contract)의 함수 호출\n    // 값만 가져올 때  : let results = await \"계약명\".methods.\"함수명\"(\"함수인자\").call();\n    // payalbe 함수   :  let results = await \"계약명\".methods.\"함수명\"(\"함수인자\").send({from:\"송금 주소\", value:\"송금 금액(wei)\", gas:\"gas 량\", nonce:\"재접속한 횟수\"});\n    //                  (참고 : let nonce = await this.web3.eth.getTransactionCount(\"target addresss\"); )\n    // Event 가져올 때 : let event = await \"계약명\".getPastEvents(\"이벤트명\", {fromBlock:0, toBlock:'latest'});\n\n    // ************** 값 확인 ************** //\n    console.log('Target Token (Smart Contract) Address : '+ this.state.token_address);\n    console.log('Target Token (Smart Contract) Name : '+ this.state.token_name);\n    console.log('Target Token (Smart Contract) Symbol  : '+ this.state.token_symbol);\n    console.log('Target Token (Smart Contract) Decimal  : '+ this.state.token_decimal);\n    console.log('Target Contract Details : ');\n    console.log(this.state.token_contract);\n    console.log('현재 Account : '+ this.state.account_acctress);\n    console.log('Target Token Balance : '+ this.state.account_total_token);\n    console.log(this.state);\n\n  }\n\n  ConnectMetaMask = async () => {\n    if (window.ethereum) {\n      console.log(' MetaMask 연결 최신 방법 ');\n      this.web3 = new Web3(window.ethereum);\n      try {\n          await window.ethereum.enable();\n      } catch (error) {\n          console.log(`User denied account access error : ${error}`)\n      }\n    }\n    else if (window.web3) {\n      console.log(' MetaMask 연결 이전 방법 ');\n      this.web3 = new Web3(Web3.currentProvider);\n    }\n    else {\n      console.log('ERORR! MetaMask not installed');\n    }    \n  }\n\n  SetSmartContract = async(contract_address) =>{\n\n    const _token_address = contract_address;\n    const _token_abi = [{\"inputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"constructor\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"internalType\": \"address\",\"name\": \"owner\",\"type\": \"address\"},{\"indexed\": true,\"internalType\": \"address\",\"name\": \"spender\",\"type\": \"address\"},{\"indexed\": false,\"internalType\": \"uint256\",\"name\": \"value\",\"type\": \"uint256\"}],\"name\": \"Approval\",\"type\": \"event\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"internalType\": \"address\",\"name\": \"previousOwner\",\"type\": \"address\"},{\"indexed\": true,\"internalType\": \"address\",\"name\": \"newOwner\",\"type\": \"address\"}],\"name\": \"OwnershipTransferred\",\"type\": \"event\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"internalType\": \"address\",\"name\": \"from\",\"type\": \"address\"},{\"indexed\": true,\"internalType\": \"address\",\"name\": \"to\",\"type\": \"address\"},{\"indexed\": false,\"internalType\": \"uint256\",\"name\": \"value\",\"type\": \"uint256\"}],\"name\": \"Transfer\",\"type\": \"event\"},{\"payable\": true,\"stateMutability\": \"payable\",\"type\": \"fallback\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"address\",\"name\": \"target\",\"type\": \"address\"}],\"name\": \"GetCurrentAbleLockedTokens\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"address\",\"name\": \"target\",\"type\": \"address\"}],\"name\": \"GetCurrentLockedTokens\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"address\",\"name\": \"target\",\"type\": \"address\"}],\"name\": \"GetInitLockedTokens\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"uint256\",\"name\": \"temp_num_init_locked\",\"type\": \"uint256\"}],\"name\": \"_calCapableLockedToken\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"sender\",\"type\": \"address\"},{\"internalType\": \"address\",\"name\": \"recipient\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"amount\",\"type\": \"uint256\"}],\"name\": \"_transfer\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"target\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"num_token\",\"type\": \"uint256\"}],\"name\": \"addLockedToken\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"address\",\"name\": \"owner\",\"type\": \"address\"},{\"internalType\": \"address\",\"name\": \"spender\",\"type\": \"address\"}],\"name\": \"allowance\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"spender\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"value\",\"type\": \"uint256\"}],\"name\": \"approve\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"internalType\": \"address\",\"name\": \"account\",\"type\": \"address\"}],\"name\": \"balanceOf\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"decimals\",\"outputs\": [{\"internalType\": \"uint8\",\"name\": \"\",\"type\": \"uint8\"}],\"payable\": false,\"stateMutability\": \"pure\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"spender\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"subtractedValue\",\"type\": \"uint256\"}],\"name\": \"decreaseAllowance\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"spender\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"addedValue\",\"type\": \"uint256\"}],\"name\": \"increaseAllowance\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"isOwner\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"name\",\"outputs\": [{\"internalType\": \"string\",\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"owner\",\"outputs\": [{\"internalType\": \"address\",\"name\": \"\",\"type\": \"address\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [],\"name\": \"renounceOwnership\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"uint256\",\"name\": \"_release_timestamp\",\"type\": \"uint256\"}],\"name\": \"setReleaseDate\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"uint256\",\"name\": \"_ratio_per_day\",\"type\": \"uint256\"}],\"name\": \"setReleaseRatioPerDay\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"uint256\",\"name\": \"_ratio\",\"type\": \"uint256\"}],\"name\": \"setTokenPerEthRatio\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"symbol\",\"outputs\": [{\"internalType\": \"string\",\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"totalSupply\",\"outputs\": [{\"internalType\": \"uint256\",\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"recipient\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"amount\",\"type\": \"uint256\"}],\"name\": \"transfer\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"sender\",\"type\": \"address\"},{\"internalType\": \"address\",\"name\": \"recipient\",\"type\": \"address\"},{\"internalType\": \"uint256\",\"name\": \"amount\",\"type\": \"uint256\"}],\"name\": \"transferFrom\",\"outputs\": [{\"internalType\": \"bool\",\"name\": \"\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"internalType\": \"address\",\"name\": \"newOwner\",\"type\": \"address\"}],\"name\": \"transferOwnership\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"}];\n    const _token_contract = new this.web3.eth.Contract(_token_abi, _token_address);\n    const _token_name = await _token_contract.methods.name().call();\n    const _token_symbol = await _token_contract.methods.symbol().call();\n    const _token_decimal = await _token_contract.methods.decimals().call();\n\n    this.setState({\n      token_address: _token_address,\n      token_abi: _token_abi,\n      token_name: _token_name,\n      token_symbol: _token_symbol,\n      token_decimal: Number(_token_decimal),\n      token_contract: _token_contract,\n    });\n  }\n\n  SetAccount = async(account_address) => {\n    const _account_balance = await this.state.token_contract.methods.balanceOf(account_address).call();\n    //const _account_balance2 = _account_balance / Math.pow(10, this.state.token_decimal);\n\n    const _current_token = await this.state.token_contract.methods.GetCurrentLockedTokens(account_address).call();\n    //const _current_token2 = _current_token / Math.pow(10, this.state.token_decimal);\n\n    const _release_token = await this.state.token_contract.methods.GetCurrentAbleLockedTokens(account_address).call();\n    //const _release_token2 = _release_token / Math.pow(10, this.state.token_decimal);\n\n    \n    this.setState({\n      account_acctress: account_address,\n      account_total_token: _account_balance/ Math.pow(10, this.state.token_decimal),\n      account_current_lock_token:_current_token/ Math.pow(10, this.state.token_decimal),\n      account_current_release_lock_token:_release_token/ Math.pow(10, this.state.token_decimal)\n    });\n  }\n\n  SetSmartContractAddressFromTextInput = async(event) =>{\n    event.preventDefault();\n    await this.SetSmartContract(event.target.value);\n    await this.SetAccount(this.state.account_acctress);\n  }\n\n  SetAccountAddressFromTextInput = async(event) =>{\n    event.preventDefault();\n    await this.SetAccount(event.target.value);\n  }\n\n\n\n  render() {\n  \n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <p>\n              Edit <code> src/App.js</code> and save to reload.\n            </p>      \n            <a className=\"App-link\" href=\"https://react.org\" target=\"_blank\" >\n            </a> \n            <div>\n              <p>Token Address : <input type=\"text\" id=\"in_contract_addr\" onChange = {this.SetSmartContractAddressFromTextInput}></input></p> \n              <p>Token Address :  {this.state.token_address}</p>\n              <p>Token Name :  {this.state.token_name}</p>\n            </div>\n            \n            <div>\n              <p>Account Address : <input type=\"text\" id=\"in_account_addr\" onChange = {this.SetAccountAddressFromTextInput}></input></p>\n              <p>Account Address :  {this.state.account_acctress}</p>\n              <p>Balance :  {this.state.account_total_token} {this.state.token_symbol}</p>\n              <p>Locked Token :  {this.state.account_current_lock_token} {this.state.token_symbol}</p>             \n              <p>Released Token :  {this.state.account_current_release_lock_token} {this.state.token_symbol}</p>             \n            </div>\n\n        </header>\n        \n      </div>\n    );\n  }\n}\n// index address challenge answer pot status answerBlockNumber\nexport default App;"]},"metadata":{},"sourceType":"module"}